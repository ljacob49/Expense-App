{"ast":null,"code":"import { call, put } from '@redux-saga/core/effects';\nimport { requestFailed } from '../actions';\nimport * as api from '../api';\nimport { authenticateUser, editUserSucceeded, signOutSucceeded } from '../slice/user';\nexport function* signUp({\n  payload\n}) {\n  try {\n    const {\n      data\n    } = yield call(api.createAccount, payload);\n    yield put(authenticateUser(data));\n    localStorage.setItem('exp_tracker', JSON.stringify(data));\n  } catch (e) {\n    yield put(requestFailed(e.message));\n  }\n}\nexport function* signIn({\n  payload\n}) {\n  try {\n    const {\n      data\n    } = yield call(api.signIn, payload);\n    yield put(authenticateUser(data));\n    localStorage.setItem('exp_tracker', JSON.stringify(data));\n  } catch (e) {\n    yield put(requestFailed(e.message));\n  }\n}\nexport function* editAccount({\n  payload\n}) {\n  const {\n    id,\n    data: params\n  } = payload;\n\n  try {\n    const {\n      data: {\n        user\n      }\n    } = yield call(api.editUserDetails, id, params);\n    yield put(editUserSucceeded(user));\n  } catch (e) {\n    yield put(requestFailed(e.message));\n  }\n}\nexport function* signOut() {\n  try {\n    const {\n      data\n    } = yield call(api.signOut);\n    yield put(signOutSucceeded(data));\n    localStorage.removeItem('exp_tracker');\n  } catch (e) {\n    yield put(requestFailed(e.message));\n  }\n}","map":{"version":3,"sources":["/Users/nirajpatel/Desktop/my-app/src/sagas/accountSagas.js"],"names":["call","put","requestFailed","api","authenticateUser","editUserSucceeded","signOutSucceeded","signUp","payload","data","createAccount","localStorage","setItem","JSON","stringify","e","message","signIn","editAccount","id","params","user","editUserDetails","signOut","removeItem"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,QAA0B,0BAA1B;AACA,SAASC,aAAT,QAA8B,YAA9B;AACA,OAAO,KAAKC,GAAZ,MAAqB,QAArB;AACA,SAASC,gBAAT,EAA2BC,iBAA3B,EAA8CC,gBAA9C,QAAsE,eAAtE;AAEA,OAAO,UAAUC,MAAV,CAAiB;AAAEC,EAAAA;AAAF,CAAjB,EAA8B;AACnC,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMT,IAAI,CAACG,GAAG,CAACO,aAAL,EAAoBF,OAApB,CAA3B;AACA,UAAMP,GAAG,CAACG,gBAAgB,CAACK,IAAD,CAAjB,CAAT;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAApC;AACD,GAJD,CAIE,OAAOM,CAAP,EAAU;AACV,UAAMd,GAAG,CAACC,aAAa,CAACa,CAAC,CAACC,OAAH,CAAd,CAAT;AACD;AACF;AAED,OAAO,UAAUC,MAAV,CAAiB;AAAET,EAAAA;AAAF,CAAjB,EAA8B;AACnC,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMT,IAAI,CAACG,GAAG,CAACc,MAAL,EAAaT,OAAb,CAA3B;AACA,UAAMP,GAAG,CAACG,gBAAgB,CAACK,IAAD,CAAjB,CAAT;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAApC;AACD,GAJD,CAIE,OAAOM,CAAP,EAAU;AACV,UAAMd,GAAG,CAACC,aAAa,CAACa,CAAC,CAACC,OAAH,CAAd,CAAT;AACD;AACF;AAED,OAAO,UAAUE,WAAV,CAAsB;AAAEV,EAAAA;AAAF,CAAtB,EAAmC;AACxC,QAAM;AAAEW,IAAAA,EAAF;AAAMV,IAAAA,IAAI,EAAEW;AAAZ,MAAuBZ,OAA7B;;AACA,MAAI;AACF,UAAM;AAAEC,MAAAA,IAAI,EAAE;AAAEY,QAAAA;AAAF;AAAR,QAAqB,MAAMrB,IAAI,CAACG,GAAG,CAACmB,eAAL,EAAsBH,EAAtB,EAA0BC,MAA1B,CAArC;AACA,UAAMnB,GAAG,CAACI,iBAAiB,CAACgB,IAAD,CAAlB,CAAT;AACD,GAHD,CAGE,OAAON,CAAP,EAAU;AACV,UAAMd,GAAG,CAACC,aAAa,CAACa,CAAC,CAACC,OAAH,CAAd,CAAT;AACD;AACF;AAED,OAAO,UAAUO,OAAV,GAAoB;AACzB,MAAI;AACF,UAAM;AAAEd,MAAAA;AAAF,QAAW,MAAMT,IAAI,CAACG,GAAG,CAACoB,OAAL,CAA3B;AACA,UAAMtB,GAAG,CAACK,gBAAgB,CAACG,IAAD,CAAjB,CAAT;AACAE,IAAAA,YAAY,CAACa,UAAb,CAAwB,aAAxB;AACD,GAJD,CAIE,OAAOT,CAAP,EAAU;AACV,UAAMd,GAAG,CAACC,aAAa,CAACa,CAAC,CAACC,OAAH,CAAd,CAAT;AACD;AACF","sourcesContent":["import { call, put } from '@redux-saga/core/effects';\nimport { requestFailed } from '../actions';\nimport * as api from '../api';\nimport { authenticateUser, editUserSucceeded, signOutSucceeded } from '../slice/user';\n\nexport function* signUp({ payload }) {\n  try {\n    const { data } = yield call(api.createAccount, payload);\n    yield put(authenticateUser(data));\n    localStorage.setItem('exp_tracker', JSON.stringify(data));\n  } catch (e) {\n    yield put(requestFailed(e.message));\n  }\n}\n\nexport function* signIn({ payload }) {\n  try {\n    const { data } = yield call(api.signIn, payload);\n    yield put(authenticateUser(data));\n    localStorage.setItem('exp_tracker', JSON.stringify(data));\n  } catch (e) {\n    yield put(requestFailed(e.message));\n  }\n}\n\nexport function* editAccount({ payload }) {\n  const { id, data: params } = payload;\n  try {\n    const { data: { user } } = yield call(api.editUserDetails, id, params);\n    yield put(editUserSucceeded(user));\n  } catch (e) {\n    yield put(requestFailed(e.message));\n  }\n}\n\nexport function* signOut() {\n  try {\n    const { data } = yield call(api.signOut);\n    yield put(signOutSucceeded(data));\n    localStorage.removeItem('exp_tracker');\n  } catch (e) {\n    yield put(requestFailed(e.message));\n  }\n}\n"]},"metadata":{},"sourceType":"module"}